async function downloadSong() {
  const spotifyLink = document.getElementById("spotifyLink").value;
  const result = document.getElementById("result");

  if (spotifyLink === "") {
    result.innerHTML = "❌ Please enter a Spotify link";
    return;
  }

  result.innerHTML = "⏳ Fetching song details...";

  const url = "https://spotify-downloader.p.rapidapi.com/SpotifyDownloader";

  const options = {
    method: "POST",
    headers: {
      "content-type": "application/json",
      "X-RapidAPI-Key": "YOUR_RAPIDAPI_KEY",
      "X-RapidAPI-Host": "spotify-downloader.p.rapidapi.com"
    },
    body: JSON.stringify({
      url: spotifyLink
    })
  };

  try {
    const response = await fetch(url, options);
    const data = await response.json();

    result.innerHTML = `
      <img src="${data.cover}" alt="Song Poster">
      <h3>${data.title}</h3>
      <p>${data.artist}</p>
      <a href="${data.download_url}" target="_blank">
        <button>⬇ Download MP3</button>
      </a>
    `;
  } catch (error) {
    result.innerHTML = "async function downloadSong() {
  const spotifyLink = document.getElementById("spotifyLink").value;
  const result = document.getElementById("result");

  if (spotifyLink === "") {
    result.innerHTML = "❌ Please enter a Spotify link";
    return;
  }

  result.innerHTML = "⏳ Fetching song details...";

  const url = "https://spotify-downloader.p.rapidapi.com/SpotifyDownloader";

  const options = {
    method: "POST",
    headers: {
      "content-type": "application/json",
      "X-RapidAPI-Key": "YOUR_RAPIDAPI_KEY",
      "X-RapidAPI-Host": "spotify-downloader.p.rapidapi.com"
    },
    body: JSON.stringify({
      url: spotifyLink
    })
  };

  try {
    const response = await fetch(url, options);
    const data = await response.json();

    result.innerHTML = `
      <img src="${data.cover}" alt="Song Poster">
      <h3>${data.title}</h3>
      <p>${data.artist}</p>
      <a href="${data.download_url}" target="_blank">
        <button>⬇ Download MP3</button>
      </a>
    `;
  } catch (error) {
    result.innerHTML = "async function downloadSong() {
  const spotifyLink = document.getElementById("spotifyLink").value;
  const result = document.getElementById("result");

  if (spotifyLink === "") {
    result.innerHTML = "❌ Please enter a Spotify link";
    return;
  }

  result.innerHTML = "⏳ Fetching song details...";

  const url = "https://spotify-downloader.p.rapidapi.com/SpotifyDownloader";

  const options = {
    method: "POST",
    headers: {
      "content-type": "application/json",
      "X-RapidAPI-Key": "YOUR_RAPIDAPI_KEY",
      "X-RapidAPI-Host": "spotify-downloader.p.rapidapi.com"
    },
    body: JSON.stringify({
      url: spotifyLink
    })
  };

  try {
    const response = await fetch(url, options);
    const data = await response.json();

    result.innerHTML = `
      <img src="${data.cover}" alt="Song Poster">
      <h3>${data.title}</h3>
      <p>${data.artist}</p>
      <a href="${data.download_url}" target="_blank">
        <button>⬇ Download MP3</button>
      </a>
    `;
  } catch (error) {
    result.innerHTML = "https://open.spotify.com/album/6BLTFvPRIlWqqhcQxuJjqd?highlight=spotify:track:3gixnmepHSsyAuho34rprN#login"
  }
}

  }
  }
}